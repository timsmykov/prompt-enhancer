<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Animation Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0f0f0f;
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .typing-container {
            font-size: 2rem;
            margin: 40px 0;
            min-height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .typing {
            position: relative;
        }
        
        .typing::after {
            content: '|';
            animation: blink 1s infinite;
            margin-left: 2px;
        }
        
        .typing.typing-active::after {
            animation: none;
            opacity: 1;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        button {
            background: #10b981;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            margin: 10px;
        }
        
        button:hover {
            background: #059669;
        }
        
        .debug {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: left;
            font-family: monospace;
            font-size: 0.9rem;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <h1>ðŸŽ¯ Typing Animation Debug</h1>
    
    <div class="typing-container">
        <span>Turn your </span>
        <span id="typingText" class="typing"></span>
        <span> into professional requests</span>
    </div>
    
    <button onclick="startAnimation()">Start Animation</button>
    <button onclick="stopAnimation()">Stop Animation</button>
    <button onclick="clearDebug()">Clear Debug</button>
    
    <div id="debug" class="debug">Debug info will appear here...</div>

    <script>
        let debugLog = [];
        
        function addDebug(message) {
            const timestamp = new Date().toLocaleTimeString();
            debugLog.push(`[${timestamp}] ${message}`);
            const debugEl = document.getElementById('debug');
            debugEl.textContent = debugLog.slice(-15).join('\n');
            debugEl.scrollTop = debugEl.scrollHeight;
        }
        
        function clearDebug() {
            debugLog = [];
            document.getElementById('debug').textContent = 'Debug cleared...';
        }

        // Simple, clean typing animation
        let animationState = {
            isRunning: false,
            timeoutId: null
        };

        function simpleTypingAnimation() {
            addDebug('ðŸŽ¯ Starting simple typing animation...');
            const typingText = document.getElementById('typingText');
            
            if (animationState.isRunning) {
                addDebug('âš ï¸ Animation already running');
                return;
            }
            
            const phrases = [
                'simple questions',
                'basic requests', 
                'rough ideas',
                'quick thoughts',
                'unclear prompts'
            ];
            
            let phraseIndex = 0;
            let charIndex = 0;
            let isDeleting = false;
            
            animationState.isRunning = true;
            
            function type() {
                if (!animationState.isRunning) {
                    addDebug('âŒ Animation stopped');
                    return;
                }
                
                const currentPhrase = phrases[phraseIndex];
                
                if (!isDeleting) {
                    // Typing phase
                    typingText.textContent = currentPhrase.slice(0, charIndex + 1);
                    charIndex++;
                    
                    if (charIndex === currentPhrase.length) {
                        // Finished typing, wait then start deleting
                        addDebug(`âœ… Finished typing: "${currentPhrase}"`);
                        animationState.timeoutId = setTimeout(() => {
                            isDeleting = true;
                            type();
                        }, 2000);
                        return;
                    }
                    
                    animationState.timeoutId = setTimeout(type, 100 + Math.random() * 100);
                } else {
                    // Deleting phase
                    typingText.textContent = currentPhrase.slice(0, charIndex);
                    charIndex--;
                    
                    if (charIndex < 0) {
                        // Finished deleting, move to next phrase
                        addDebug(`ðŸ—‘ï¸ Finished deleting, next phrase`);
                        isDeleting = false;
                        charIndex = 0;
                        phraseIndex = (phraseIndex + 1) % phrases.length;
                        
                        animationState.timeoutId = setTimeout(type, 500);
                        return;
                    }
                    
                    animationState.timeoutId = setTimeout(type, 50 + Math.random() * 50);
                }
            }
            
            type();
        }

        function stopAnimation() {
            addDebug('â›” Stop button clicked');
            animationState.isRunning = false;
            if (animationState.timeoutId) {
                clearTimeout(animationState.timeoutId);
                animationState.timeoutId = null;
            }
        }

        function startAnimation() {
            addDebug('ðŸš€ Start button clicked');
            stopAnimation(); // Stop any existing animation
            setTimeout(simpleTypingAnimation, 100);
        }
        
        // Auto-start on page load
        window.addEventListener('load', () => {
            addDebug('ðŸ“„ Page loaded, auto-starting animation');
            setTimeout(startAnimation, 1000);
        });
    </script>
</body>
</html>